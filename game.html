<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>SVG Game</title>
  <link rel="shortcut icon" href="#" />
  <script language="JavaScript" src="global.js"></script>
  <script language="JavaScript" src="player.js"></script>
  <script language="JavaScript" src="monster.js"></script>
  <script language="JavaScript" src="portal.js"></script>
  <script language="JavaScript" src="game.js"></script>
</head>

<body style="text-align: center" onload="load();">

<!-- Icons made by www.flaticon.com -->
<svg width="800px" height="600px"
     xmlns="http://www.w3.org/2000/svg"
     xmlns:xhtml="http://www.w3.org/1999/xhtml"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     xmlns:a="http://www.adobe.com/svg10-extensions" a:timeline="independent">

  <defs>

    <clipPath id="gameareaclip">
      <rect x="20" y="20" width="600" height="560"/>
    </clipPath>
    <pattern id="background_pattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
      <rect width="20" height="20" style="fill:yellow"/>
      <circle cx="10" cy="10" r="8" style="fill:lightyellow"/>
    </pattern>

    <g id="rmonster" transform="scale(0.08, 0.08)">
      <path d="m 289.338,113.93 c -9.081,0 -16.429,10.077 -16.429,22.51 0,12.449 7.349,22.523 16.429,22.523 9.08,0 16.422,-10.074 16.422,-22.523 0.001,-12.433 -7.342,-22.51 -16.422,-22.51 z" style="fill:#552200" />
      <path d="m 292.61,0 c -82.903,0 -150.125,79.955 -150.125,178.566 0,93.109 0.34,167.109 -91.757,290.264 -3.178,4.233 -3.624,9.898 -1.156,14.566 2.437,4.682 7.366,7.54 12.642,7.345 C 380.662,479.078 442.76,274.369 442.76,178.566 442.76,79.955 375.544,0 292.61,0 Z m -9.771,195.713 c -19.991,0 -36.174,-25.813 -36.174,-57.639 0,-31.827 16.183,-57.637 36.174,-57.637 19.969,0 36.173,25.81 36.173,57.637 -10e-4,31.826 -16.204,57.639 -36.173,57.639 z m 88.297,0 c -19.97,0 -36.173,-25.813 -36.173,-57.639 0,-31.827 16.203,-57.637 36.173,-57.637 19.99,0 36.173,25.81 36.173,57.637 0,31.826 -16.184,57.639 -36.173,57.639 z" style="fill:#552200" />
      <path d="m 364.636,113.93 c -9.081,0 -16.422,10.077 -16.422,22.51 0,12.449 7.342,22.523 16.422,22.523 9.082,0 16.429,-10.074 16.429,-22.523 -10e-4,-12.433 -7.348,-22.51 -16.429,-22.51 z" style="fill:#552200" />
      <ellipse style="fill:#ffffff;stroke-width:1.4121" cx="322.54156" cy="269.96112" rx="28.481028" ry="41.139263" />
    </g>

    <g id="lmonster" transform="matrix(-1, 0, 0, 1 ,0 ,0) scale(0.08, 0.08)">
      <path d="m 289.338,113.93 c -9.081,0 -16.429,10.077 -16.429,22.51 0,12.449 7.349,22.523 16.429,22.523 9.08,0 16.422,-10.074 16.422,-22.523 0.001,-12.433 -7.342,-22.51 -16.422,-22.51 z" style="fill:#552200" />
      <path d="m 292.61,0 c -82.903,0 -150.125,79.955 -150.125,178.566 0,93.109 0.34,167.109 -91.757,290.264 -3.178,4.233 -3.624,9.898 -1.156,14.566 2.437,4.682 7.366,7.54 12.642,7.345 C 380.662,479.078 442.76,274.369 442.76,178.566 442.76,79.955 375.544,0 292.61,0 Z m -9.771,195.713 c -19.991,0 -36.174,-25.813 -36.174,-57.639 0,-31.827 16.183,-57.637 36.174,-57.637 19.969,0 36.173,25.81 36.173,57.637 -10e-4,31.826 -16.204,57.639 -36.173,57.639 z m 88.297,0 c -19.97,0 -36.173,-25.813 -36.173,-57.639 0,-31.827 16.203,-57.637 36.173,-57.637 19.99,0 36.173,25.81 36.173,57.637 0,31.826 -16.184,57.639 -36.173,57.639 z" style="fill:#552200" />
      <path d="m 364.636,113.93 c -9.081,0 -16.422,10.077 -16.422,22.51 0,12.449 7.342,22.523 16.422,22.523 9.082,0 16.429,-10.074 16.429,-22.523 -10e-4,-12.433 -7.348,-22.51 -16.429,-22.51 z" style="fill:#552200" />
      <ellipse style="fill:#ffffff;stroke-width:1.4121" id="path13" cx="322.54156" cy="269.96112" rx="28.481028" ry="41.139263" />
    </g>

    <g id="rplayer" transform="scale(0.075, 0.085)">
      <text class="pname" x="20" y="-50" style="fill:green;font-weight:bold" font-size="112" font-family="arial">Alexander</text>
      <path style="fill:#ffcc00" d="M186.66,354.216v15.627c0,21.846-17.773,39.619-39.619,39.619h-27.39  c-7.602-21.434-28.071-36.831-52.079-36.831v36.831c10.154,0,18.415,8.261,18.415,18.415s-8.261,18.415-18.415,18.415v36.831  c24.008,0,44.477-15.397,52.079-36.831h27.39c42.154,0,76.45-34.296,76.45-76.45v-15.627H186.66z" id="path2" />
      <path style="fill:#FFE981;" d="M373.544,197.231l-5.395-8.756H253.476L13.795,30.963L6.292,53.826  c-21.371,65.134,17.236,124.475,33.433,145.498c-2,9.165-4.136,23.542-2.884,39.817c2.888,37.514,21.813,67.408,54.731,86.455  c7.253,4.198,14.79,7.534,22.487,10.025c7.471,16.258,17.945,31.193,31.112,44.057c27.228,26.601,63.034,41.533,100.825,42.049  c0.691,0.009,1.379,0.013,2.07,0.013c38.982,0,75.647-15.025,103.437-42.439c28.287-27.904,43.866-65.153,43.866-104.885  C395.369,247.093,387.822,220.403,373.544,197.231z" id="path4" />
      <path style="fill:#FFDB2D;" d="M373.544,197.231l-5.395-8.756H254.182v233.13c36.689-1.488,70.988-16.331,97.32-42.307  c28.287-27.904,43.866-65.153,43.866-104.885C395.369,247.093,387.822,220.403,373.544,197.231z" id="path6"/>
      <polygon style="fill:#FF9900;" points="450.615,120.953 512,108.676 487.446,145.507 512,182.338 450.615,170.061 " id="polygon8"/>
      <path style="fill:#FFE257;" d="M358.538,28.876c-67.695,0-122.77,55.073-122.77,122.77s55.075,122.77,122.77,122.77  s122.77-55.073,122.77-122.77S426.233,28.876,358.538,28.876z" id="path10"/>
      <circle style="fill:#804D00;" cx="383.092" cy="139.369" r="18.415" id="circle12" />
    </g>

    <g id="lplayer" transform="scale(0.075, 0.085)">
      <text class="pname" x="20" y="-50" style="fill:green;font-weight:bold" font-size="112" font-family="arial">Hello</text>
      <path style="fill:#ffcc00" d="m 325.33975,354.216 v 15.627 c 0,21.846 17.773,39.619 39.619,39.619 h 27.39 c 7.602,-21.434 28.071,-36.831 52.079,-36.831 v 36.831 c -10.154,0 -18.415,8.261 -18.415,18.415 0,10.154 8.261,18.415 18.415,18.415 v 36.831 c -24.008,0 -44.477,-15.397 -52.079,-36.831 h -27.39 c -42.154,0 -76.45,-34.296 -76.45,-76.45 v -15.627 h 36.831 z" id="path2" />
      <path style="fill:#ffe981" d="m 138.45575,197.231 5.395,-8.756 h 114.673 l 239.681,-157.512 7.503,22.863 c 21.371,65.134 -17.236,124.475 -33.433,145.498 2,9.165 4.136,23.542 2.884,39.817 -2.888,37.514 -21.813,67.408 -54.731,86.455 -7.253,4.198 -14.79,7.534 -22.487,10.025 -7.471,16.258 -17.945,31.193 -31.112,44.057 -27.228,26.601 -63.034,41.533 -100.825,42.049 -0.691,0.009 -1.379,0.013 -2.07,0.013 -38.982,0 -75.647,-15.025 -103.437,-42.439 -28.287,-27.904 -43.866,-65.153 -43.866,-104.885 0,-27.323 7.547,-54.013 21.825,-77.185 z" id="path4" />
      <path style="fill:#ffdb2d" d="m 138.45575,197.231 5.395,-8.756 h 113.967 v 233.13 c -36.689,-1.488 -70.988,-16.331 -97.32,-42.307 -28.287,-27.904 -43.866,-65.153 -43.866,-104.885 -10e-4,-27.32 7.546,-54.01 21.824,-77.182 z" id="path6" />
      <polygon style="fill:#ff9900" points="512,108.676 487.446,145.507 512,182.338 450.615,170.061 450.615,120.953 " id="polygon8" transform="matrix(-1,0,0,1,511.99975,0)" />
      <path style="fill:#ffe257" d="m 153.46175,28.876 c 67.695,0 122.77,55.073 122.77,122.77 0,67.697 -55.075,122.77 -122.77,122.77 -67.694996,0 -122.769996,-55.073 -122.769996,-122.77 0,-67.697 55.075,-122.77 122.769996,-122.77 z" id="path10" />
      <circle style="fill:#804d00" cx="-128.90775" cy="139.369" r="18.415001" id="circle12" transform="scale(-1,1)" />
    </g>

    <g id="bullet">
      <circle cx="5" cy="5" r="5" style="fill:red"/>
      <circle cx="6" cy="3" r="1" style="fill:pink"/>
    </g>

    <g id="candy" transform="scale(0.05, 0.05)">
      <path d="m149.884 504.003c-16.263 12.247-40.135 10.366-55.741-5.24-4.575-4.575-7.962-9.857-10.168-15.457-14.68 4.667-31.834.834-43.975-11.307s-15.974-29.295-11.307-43.975c-5.6-2.206-10.882-5.593-15.457-10.168-15.606-15.606-17.487-39.478-5.24-55.741-.622-.552 187.086-45.198 187.086-45.198s-44.647 187.708-45.198 187.086z" fill="#59c7f8"/>
      <path d="m316.916 195.082s44.647-187.709 45.198-187.086c16.263-12.247 40.135-10.366 55.741 5.24 4.575 4.575 7.962 9.857 10.168 15.457 14.68-4.667 31.834-.834 43.975 11.307s15.974 29.295 11.307 43.975c5.6 2.206 10.882 5.593 15.457 10.168 15.606 15.606 17.487 39.478 5.24 55.741.623.551-187.086 45.198-187.086 45.198z" fill="#59c7f8"/>
      <path d="m316.916 195.082 155.083-155.083c12.141 12.141 15.974 29.295 11.307 43.975 5.6 2.206 10.882 5.593 15.457 10.168 15.606 15.606 17.487 39.478 5.24 55.741.622.552-187.087 45.199-187.087 45.199z" fill="#019be6"/>
      <path d="m195.082 316.916s-44.647 187.709-45.198 187.086c-16.263 12.247-40.135 10.366-55.741-5.24-4.575-4.575-7.962-9.857-10.168-15.457-14.68 4.667-31.834.834-43.975-11.307z" fill="#019be6"/>
      <path d="m256.005 256.003h-.001l-.001.002h.006l-.003-.004z"/>
      <path d="m364.848 401.674c-30.342 22.705-68.024 36.161-108.845 36.154-25.696 0-50.155-5.324-72.316-14.941-22.012-9.553-35.801-29.395-44.88-49.688-6.548-14.623-10.642-29.479-13.612-40.892 0 0-47.171-32.294-49.816-55.275-.806-6.901-1.209-13.909-1.209-21.036 0-59.397 28.482-112.133 72.528-145.317 30.427-22.931 114.205-2.652 114.205-2.652s44.534-28.68 66.433-19.325c21.531 9.185 40.934 22.408 57.24 38.728 28.143 28.143 47.093 65.45 51.994 107.077.467 3.917-6.428 64.552-36.14 84.719-.001-.001-15.911 67.726-35.582 82.448z" fill="#fff9e1"/>
      <path d="m364.848 401.674c-30.342 22.705-68.024 36.161-108.845 36.154-25.696 0-50.155-5.324-72.316-14.941-22.012-9.553-35.801-29.395-44.88-49.688l245.769-245.769c28.143 28.143 47.093 65.45 51.994 107.077.467 3.917-6.428 64.552-36.14 84.719-.001-.001-15.911 67.726-35.582 82.448z" fill="#ffdea8"/>
      <g fill="#ff7b49">
          <path d="m256.003 256.003c27.238-47.419 10.699-107.784-36.72-134.994-22.882-13.138-48.819-16.094-72.585-10.331 30.427-22.931 68.285-36.508 109.298-36.508 25.329 0 49.441 5.176 71.34 14.531 4.681 4.879 8.881 10.239 12.495 16.002 9.518 15.203 15.033 33.177 15.033 52.439v.014c-.001 54.674-44.181 98.84-98.861 98.847z"/>
          <path d="m183.687 422.887c-21.143-9.178-40.199-22.253-56.257-38.311-28.242-28.242-47.242-65.726-52.05-107.544 7.015-23.278 22.535-44.032 45.248-57.127 15.585-9.009 32.612-13.28 49.399-13.279 34.217-.007 67.649 17.614 85.977 49.377-54.659 0-99.158 44.47-99.151 99.136v.014c.006 26.213 10.196 50.035 26.834 67.734z"/>
          <path d="m364.848 401.674c-7.594 1.824-15.401 2.758-23.264 2.758-16.702 0-33.616-4.229-49.137-13.145-47.419-27.209-63.661-87.872-36.444-135.284 18.328 31.763 51.47 49.674 85.687 49.667 16.794.007 33.814-4.271 49.406-13.272 22.953-13.251 38.587-34.316 45.474-57.891.834 7.043 1.266 14.22 1.259 21.496.006 59.602-28.681 112.5-72.981 145.671z"/>
      </g>
      <g fill="#fd435b">
          <path d="m256.003 256.003 98.861-98.861v.014c-.001 54.674-44.181 98.84-98.861 98.847z"/>
          <path d="m156.852 355.153c.007 26.212 10.197 50.035 26.835 67.734-21.143-9.178-40.199-22.253-56.257-38.311z"/>
          <path d="m364.848 401.674c-7.594 1.824-15.401 2.758-23.264 2.758-16.702 0-33.616-4.229-49.137-13.145-47.419-27.209-63.661-87.872-36.444-135.284 18.328 31.763 51.47 49.674 85.687 49.667 16.794.007 33.814-4.271 49.406-13.272 22.953-13.251 38.587-34.316 45.474-57.891.834 7.043 1.266 14.22 1.259 21.496.006 59.602-28.681 112.5-72.981 145.671z"/>
      </g>
    </g>

    <g id="bluePortal" transform="scale(0.1, 0.1)">
      <path style="fill:#097aeb;" d="M256.001,512c-68.38,0-132.667-26.629-181.02-74.981C26.629,388.668,0,324.38,0,256.001 c0-68.38,26.629-132.667,74.98-181.02C123.334,26.629,187.619,0,256.001,0c68.379,0,132.667,26.629,181.018,74.981 C485.371,123.334,512,187.62,512,256.001s-26.63,132.667-74.981,181.02S324.38,512,256.001,512z M256.001,69.8 C153.329,69.8,69.8,153.329,69.8,256.001s83.529,186.2,186.201,186.2s186.201-83.529,186.201-186.2S358.671,69.8,256.001,69.8z"/>
	    <path style="fill:#58a6f5;" d="M121.513,437.019c-48.351-48.351-74.98-112.639-74.98-181.019s26.629-132.667,74.98-181.018 c42.826-42.826,98.155-68.592,157.753-73.927C271.575,0.365,263.816,0,256.001,0c-68.38,0-132.667,26.629-181.02,74.981 C26.629,123.332,0,187.62,0,255.999s26.629,132.668,74.98,181.019C123.332,485.37,187.619,512,255.999,512 c7.816,0,15.575-0.365,23.267-1.054C219.668,505.611,164.34,479.844,121.513,437.019z"/>
    </g>

    <g id="redPortal" transform="scale(0.1, 0.1)">
      <path style="fill:#ed0c0c;" d="M256.001,512c-68.38,0-132.667-26.629-181.02-74.981C26.629,388.668,0,324.38,0,256.001 c0-68.38,26.629-132.667,74.98-181.02C123.334,26.629,187.619,0,256.001,0c68.379,0,132.667,26.629,181.018,74.981 C485.371,123.334,512,187.62,512,256.001s-26.63,132.667-74.981,181.02S324.38,512,256.001,512z M256.001,69.8 C153.329,69.8,69.8,153.329,69.8,256.001s83.529,186.2,186.201,186.2s186.201-83.529,186.201-186.2S358.671,69.8,256.001,69.8z"/>
	    <path style="fill:#f54545;" d="M121.513,437.019c-48.351-48.351-74.98-112.639-74.98-181.019s26.629-132.667,74.98-181.018 c42.826-42.826,98.155-68.592,157.753-73.927C271.575,0.365,263.816,0,256.001,0c-68.38,0-132.667,26.629-181.02,74.981 C26.629,123.332,0,187.62,0,255.999s26.629,132.668,74.98,181.019C123.332,485.37,187.619,512,255.999,512 c7.816,0,15.575-0.365,23.267-1.054C219.668,505.611,164.34,479.844,121.513,437.019z"/>
    </g>

    <rect id="block" style="fill:orange" width="60" height="20"/>
  
  </defs>

  <g id="guideline">
    <rect width="100%" height="100%" style="fill:url(#background_pattern);stroke:orange;stroke-width:4" />
    <rect x="20" y="20" width="760" height="560" style="fill:black;stroke:red;stroke-width:5" />
    <g style="clip-path:url(#guidelineclip)">
      <g transform="translate(20,20)">
        <g id="infoarea" transform="translate(0,0)" width="760" height="560">
          <rect x="0" y="0" width="760" height="560" style="fill:white">
          </rect>
          <text x="190" y="60" fill="black" font-family="cooper black" font-size="48">The Candy Hunt</text>
          <text y="100" fill="orange" font-family="cooper black" font-size="24">
            <tspan x="60" dy="1.6em">You are a candy loving bird. You need to collect as</tspan>
            <tspan x="60" dy="1.6em">many candices as possible. Use the key A to go left.</tspan>
            <tspan x="60" dy="1.6em">the D key to go right and W key to jump.</tspan>
            <tspan x="60" dy="1.6em">Ghosts are going to stop you on the way. Press H</tspan>
            <tspan x="60" dy="1.6em">to shoot and kill them. Pick up the candies and</tspan>
            <tspan x="60" dy="1.6em">go to the exit as fast as possible! Going though</tspan>
            <tspan x="60" dy="1.6em">portals may help you get there faster!</tspan>
            <tspan x="60" dy="1.6em">The time and bullet you have are limited.</tspan>
            <tspan x="250" dy="2.5em" font-size="20" fill="green">Created by Hayden Chiu</tspan>
          </text>
          <g onclick="startGame()">
            <rect x="280" y="480" width="180" height="60" stroke="orange" stroke-width="3px" fill="white"/>
            <text x="370" y="510" dominant-baseline="middle" text-anchor="middle" font-family="cooper black" font-size="28" fill="red">Start</text>
          </g>
        </g>
      </g>
    </g>
  </g>

  <g id="ranking">
    <rect width="100%" height="100%" style="fill:url(#background_pattern);stroke:orange;stroke-width:4" />
    <rect x="20" y="20" width="760" height="560" style="fill:black;stroke:red;stroke-width:5" />
    <g style="clip-path:url(#guidelineclip)">
      <g transform="translate(20,20)">
        <g id="infoarea" transform="translate(0,0)" width="760" height="560">
          <rect x="0" y="0" width="760" height="560" style="fill:white">
          </rect>
          <text x="180" y="60" fill="black" font-family="cooper black" font-size="48">High Score Table</text>
          <text y="100" fill="orange" font-family="consolas" font-size="30" style="font-weight:bold">
            <tspan id="r0" x="80" dy="1.8em">No body is here yet</tspan>
            <tspan id="r1" x="80" dy="1.8em"></tspan>
            <tspan id="r2" x="80" dy="1.8em"></tspan>
            <tspan id="r3" x="80" dy="1.8em"></tspan>
            <tspan id="r4" x="80" dy="1.8em"></tspan>
          </text>
          <g onclick="restart()">
            <rect x="280" y="480" width="180" height="60" stroke="orange" stroke-width="3px" fill="white"/>
            <text x="370" y="510" dominant-baseline="middle" text-anchor="middle" font-family="cooper black" font-size="28" fill="red">Restart</text>
          </g>
        </g>
      </g>
    </g>
  </g>

  <g id="game">
    <rect width="100%" height="100%" style="fill:url(#background_pattern);stroke:orange;stroke-width:4" />
    <rect id="cheatBox" x="20" y="20" width="600" height="560" style="fill:black;stroke:red;stroke-width:5" />

    <text x="660" y="40" fill="black" font-family="cooper black" font-size="34">Score</text>
    <rect x="630" y="60" width="160" height="60" style="fill:white;stroke:orange;stroke-width:4" />
    <text id="score" x="700" y="100" fill="black" font-family="cooper black" font-size="36">0</text>

    <text x="655" y="160" fill="black" font-family="cooper black" font-size="34">Bullet</text>
    <rect x="630" y="180" width="160" height="60" style="fill:white;stroke:orange;stroke-width:4" />
    <text id="remain" x="700" y="220" fill="black" font-family="cooper black" font-size="36">8</text>
    
    <text x="665" y="280" fill="black" font-family="cooper black" font-size="34">Time</text>
    <rect x="630" y="300" width="160" height="60" style="fill:white;stroke:orange;stroke-width:4" />
    <text id="seconds" x="690" y="340" fill="black" font-family="cooper black" font-size="36">30</text>

    <text id="level" x="645" y="560" fill="black" font-family="cooper black" font-size="38">Level 1</text>
    <!-- Add your button here -->

    <g style="clip-path:url(#gameareaclip)">
      <g transform="translate(20,20)">
        <g id="gamearea" transform="translate(0,0)" width="600" height="560">
          <rect x="0" y="0" width="600" height="560" style="fill:white" />
          <rect style="fill:pink" width="60" height="60" x="540" y="480"/>
          <text x="550" y="515" fill="red" font-family="cooper black" font-size="20">Exit</text>
          <g id="monsters"/>
            <g id="bullets"/>
              <g id="platforms">
              <!-- the floor -->
              <rect style="fill:orange" width="600" height="20" x="0" y="540"/>
              <g id="dish"></g>
              </g>
            </g>
          </g>
        </g>
      </g>
</svg>
</body>
</html>